if (top.location.hostname != window.location.hostname){  
　　top.location.href = window.location.href;  
} 
var baseUrl="//zhongtianjunfu.shoufangpai.com";
var strUrl=window.location.href;
var arrUrl=strUrl.split("?");
var strPage1=arrUrl[0];
var arrUrl=strPage1.split("/");
var strPage=arrUrl[arrUrl.length-1];
var posturl=arrUrl[0]+baseUrl;
var ajaxurl=arrUrl[0]+baseUrl;
console.log(posturl);
var hasdata=function(obj){
	if(obj!=null&&obj!="null"&&obj!=undefined&&obj!='undefined'&&obj!=""){
		return true;
	}else{
		return false;
	}
}
var getQueryStrings=function() { //获取标题的数据
    var assoc  = {};
    var decode = function (s) { return decodeURIComponent(s.replace(/\+/g, " ")); };
    var queryString = location.search.substring(1);
    console.log(queryString)
    var keyValues = queryString.split('&');
    for(var i in keyValues) {
        var key = keyValues[i].split('=');
        if (key.length > 1) { assoc[decode(key[0])] = decode(key[1]); }
    }
    return assoc;
}
var support_canvas_text=function(){//判断是否支持canvas
    var elem = document.createElement('canvas');
    var context = elem.getContext('2d');
    return typeof context.fillText === 'function';
}
var setStorage=function(name, val){
            if(arguments.length>1){//判断接受的参数值是不是两个
                try{
                    localStorage.setItem(name, val);
                }catch(e){
                    setCookie(name,val,'d365');//抛出异常使用cookie存储
                }
            }else{
                var dataStr='';
                try{
                    localStorage.setItem(name, 'test');//判断是否支持存储
                    dataStr =localStorage.getItem(name);
                }catch(e){
                    dataStr = getCookie(name)//同样抛出异常我们使用cookie去取值
                }
                if(dataStr=='test'){
                	 return "支持localStorage setItem getItem";
                }else{
                	 return "不支持localStorage";
                }
            }
}
var setlocalStorage=function(name, val){
if(name=='phone'||name=='phonenum'||name=='notice'||name=='frozen'||name=='registration_notes'||name=='signtime'||name=='resultphone'){
		return setStorage(name, val)
	}else{
		name=getlocalStorage('phonenum')+name
	}
            if(arguments.length>1){//判断接受的参数值是不是两个
                try{
                    localStorage.setItem(name, val);
                }catch(e){
                    setCookie(name,val,'d365');//抛出异常使用cookie存储
                }
            }else{
                var dataStr='';
                try{
                    localStorage.setItem(name, 'test');//判断是否支持存储
                    dataStr =localStorage.getItem(name);
                }catch(e){
                    dataStr = getCookie(name)//同样抛出异常我们使用cookie去取值
                }
                if(dataStr=='test'){
                	 return "支持localStorage setItem getItem";
                }else{
                	 return "不支持localStorage";
                }
            }
}

var getStorage=function(name){
if(typeof localStorage === 'object'){
    try {
      return  window.localStorage.getItem(name);
    }catch(e){
       return getCookie(name);
    }
}
}
var getlocalStorage=function(name){
if(name=='phone'||name=='phonenum'||name=='notice'||name=='frozen'||name=='registration_notes'||name=='signtime'||name=='resultphone'){
	return	getStorage(name)
}else{
	name=getlocalStorage('phonenum')+name
}
if(typeof localStorage === 'object'){
    try {
      return  window.localStorage.getItem(name);
    }catch(e){
       return getCookie(name);
    }
}
}
var getCookie=function(name)//取cookies值
{
    var arr,reg=new RegExp("(^| )"+name+"=([^;]*)(;|$)");
    if(arr=document.cookie.match(reg)){
        if(!arr[2]){
             return null ;
        }else if(arr[2] !='null'){
             return unescape(arr[2]) ;
        }else{
             return null ;
        };
    }else{
        return null;
    }

}
//存储Cookie
var setCookie=function(name, value, time){
    var strsec = getsec(time);
    var exp = new Date();
    exp.setTime(exp.getTime() + strsec * 1);
    document.cookie = name + "=" + escape(value) + ";expires=" + exp.toGMTString()+";path=/";
}
  var  getsec=function(str) {
    var str1 = str.substring(1, str.length) * 1;
    var str2 = str.substring(0, 1);
    if (str2 == "s") {
        return str1 * 1000;
    } else if (str2 == "h") {
        return str1 * 60 * 60 * 1000;
    } else if (str2 == "d") {
        return str1 * 24 * 60 * 60 * 1000;
    }
}
var clearStorage=function(name){    // 清除存储
    if(!name) { return false;}
    try{
        localStorage.setItem('cookieTest', 'test');//正常清除
        localStorage.removeItem(name);
    }catch(e){
        document.cookie = name + "=" + null + ";expires=" + 0+";path=/";//抛出异常，存储到了cookie，因此清除cookie。
    }

}